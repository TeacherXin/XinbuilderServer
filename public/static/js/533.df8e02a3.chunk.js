"use strict";(self.webpackChunkddm_demo=self.webpackChunkddm_demo||[]).push([[533],{36825:function(e,t,n){n.r(t),n.d(t,{default:function(){return ke}});var i=n(1413),l=n(70885),a=n(42982),d=n(74165),o=n(15861),u=n(87363),r=n.n(u),s=n(39820),c=n(59155),h=n(763),p=n.n(h),O=n(53660),f=n(81821),v=n(80184),m=f.Typography.Paragraph;function y(e){var t=e.showJson,n=e.nowCom,i=e.setShowJson,l=function(e){return function(){i(e)}};return(0,v.jsx)(f.Modal,{open:t,className:"editStyle",onOk:l(!1),onCancel:l(!1),bodyStyle:{width:"800px",height:"400px"},closable:!1,children:(0,v.jsx)(m,{style:{maxWidth:440,marginTop:24},children:(0,v.jsx)("pre",{style:{border:"none",height:"370px",width:"450px",overflow:"auto"},children:JSON.stringify(n,null,2)})})})}var g=[{label:"\u67e5\u770bJSON",key:"showJson"},{label:"\u5220\u9664\u8282\u70b9",key:"deleteNode"}];function b(e){var t=p().cloneDeep(c.Z.getState().attributeMap),n=(0,u.useState)({}),i=(0,l.Z)(n,2),a=(i[0],i[1]),d=(0,u.useState)({}),o=(0,l.Z)(d,2),r=o[0],s=o[1],h=(0,u.useState)(!1),m=(0,l.Z)(h,2),b=m[0],w=m[1];(0,O.Z)((function(){a({})}));var x=function(e,n){return function(i){("showJson"===i.key&&(w(!0),s(e)),"deleteNode"===i.key)&&(n?delete window.findNodeByComId(n,t).childList[e.comId]:delete t[e.comId]);c.Z.dispatch({type:"change",attributeMap:t})}};return(0,v.jsxs)("div",{className:"leftList",children:[(0,v.jsx)(f.Tree,{showLine:!0,selectable:!1,treeData:function e(t,n){var i=[];for(var l in t)i.push({title:(0,v.jsx)("div",{children:(0,v.jsx)(f.Dropdown,{menu:{onClick:x(t[l],n),items:g},trigger:["contextMenu"],children:(0,v.jsx)("span",{children:l})})}),key:t[l].comId,children:e(t[l].childList,t[l].comId)});return i}(t)}),(0,v.jsx)(y,{setShowJson:w,nowCom:r,showJson:b})]})}var w=n(2487),x=n(30501),C=n(53621),S=n(91342),Z=n(56102),I=n(7974),k=n(47944),j=n(51635),B=n(35542),N=n(13876),X=n(93239),D=n(38007),T=n(31752),R=n(84791),F=n(99197),A=n(59560),M=n(29293),L=n(12261),P=n(29529),V=n(42740),E=n(50127),q=n(43984),U={XinCard:w.Z,XinForm:x.Z,XinMenu:C.Z,XinRadioGroup:S.Z,XinButton:Z.Z,XinCheckBox:I.Z,XinDatePicker:k.Z,XinIcon:j.Z,XinInput:B.Z,XinLable:N.Z,XinNumber:X.Z,XinRadio:D.Z,XinRate:T.Z,XinUpload:R.Z,XinTable:F.Z,XinFlex:A.Z,XinLink:M.Z,XinDiv:L.Z,XinCarousel:w.Z,XinAvatar:P.Z,XinTabs:V.Z,XinList:E.Z,XinListItem:q.Z},z={XinCard:"\u5361\u7247",XinForm:"\u8868\u5355",XinMenu:"\u83dc\u5355",XinRadioGroup:"\u5355\u9009\u680f",XinButton:"\u6309\u94ae",XinCheckBox:"\u591a\u9009\u6309\u94ae",XinDatePicker:"\u65e5\u671f\u6846",XinIcon:"\u56fe\u6807",XinInput:"\u8f93\u5165\u6846",XinLable:"\u6807\u7b7e",XinNumber:"\u6570\u503c\u6846",XinRadio:"\u5355\u9009\u6846",XinRate:"\u8bc4\u5206",XinUpload:"\u56fe\u7247\u4e0a\u4f20",XinTable:"\u8868\u683c",XinFlex:"Flex\u5e03\u5c40",XinLink:"\u9875\u9762\u8df3\u8f6c",XinDiv:"\u7a7adiv",XinCarousel:"\u8f6e\u64ad\u56fe",XinAvatar:"\u5934\u50cf",XinTabs:"\u591a\u9875\u7b7e",XinList:"\u5217\u8868",XinListItem:"\u5217\u8868\u9879"},J=n(76864),G=n(41938),H=n(75980),W=f.Collapse.Panel;function Y(e){var t=e.changeTopCom,n=(0,u.useState)([]),i=(0,l.Z)(n,2),r=i[0],c=i[1],h=(0,u.useState)([]),p=(0,l.Z)(h,2),O=p[0],m=p[1],y=(0,u.useState)([]),g=(0,l.Z)(y,2),w=g[0],x=g[1],C=(0,u.useState)(!0),S=(0,l.Z)(C,2),Z=S[0],I=S[1],k=(0,u.useState)([]),j=(0,l.Z)(k,2),B=j[0],N=j[1],X=function(){var e=(0,o.Z)((0,d.Z)().mark((function e(){var t,n,i,l,a,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.Z.get("http://".concat(window.location.hostname,":3000/api/getpackage"));case 2:t=e.sent,n=t.data.packageList,i=[],l=0;case 6:if(!(l<n.length)){e.next=15;break}return a=n[l],e.next=10,H.Z.get("http://".concat(window.location.hostname,":3000/api/getcomFile?fileDirName=").concat(a.fileDirName));case 10:o=e.sent,i.push({Com:o.data.fileConent.fileConent,name:a.name,code:a.code});case 12:l++,e.next=6;break;case 15:N(i);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){Object.keys(s).forEach((function(e){["XinForm","XinMenu","XinRadioGroup","XinCard","XinFlex","XinCarousel","XinTabs","XinList"].includes(e)?r.push(e):["XinTable","XinDiv","XinAvatar","XinListItem"].includes(e)?w.push(e):O.push(e)})),c((0,a.Z)(r)),m((0,a.Z)(O)),x((0,a.Z)(w))}),[]),(0,u.useEffect)((function(){X()}),[]);var D=function(e,n,i){return function(){t({component:e,name:n,groupType:i})}};return Z?(0,v.jsx)("div",{className:"leftCom",children:(0,v.jsx)(f.Tabs,{defaultActiveKey:"1",items:[{key:"com",label:(0,v.jsx)("div",{style:{fontSize:"18px",width:"100px",textAlign:"center"},children:"\u7ec4\u4ef6"}),children:(0,v.jsxs)(f.Collapse,{defaultActiveKey:["1"],style:{width:"100%",background:"none",height:"100%",overflow:"auto",marginTop:"-16px",borderRadius:"0"},children:[(0,v.jsx)(W,{header:(0,v.jsx)("span",{style:{fontWeight:"bold"},children:"\u5bb9\u5668\u7c7b\u578b\u7ec4\u4ef6"}),style:{background:"none",height:"100%"},children:r.map((function(e){var t=s[e],n=U[e],i=z[e];return(0,v.jsx)("div",{onDragStart:D(t,e,"container"),className:"componentItem",children:(0,v.jsxs)("div",{style:{display:"inline-block"},draggable:!0,children:[(0,v.jsx)(n,{style:{marginRight:"10px"}}),(0,v.jsx)("span",{children:i})]})},e)}))},"1"),(0,v.jsx)(W,{header:(0,v.jsx)("span",{style:{fontWeight:"bold"},children:"\u6570\u636e\u5f55\u5165\u7ec4\u4ef6"}),children:O.map((function(e){var t=s[e],n=U[e],i=z[e];return(0,v.jsx)("div",{onDragStart:D(t,e,"controlCin"),className:"componentItem",children:(0,v.jsxs)("div",{style:{display:"inline-block"},draggable:!0,children:[(0,v.jsx)(n,{style:{marginRight:"10px"}}),(0,v.jsx)("span",{children:i})]})},e)}))},"2"),(0,v.jsx)(W,{header:(0,v.jsx)("span",{style:{fontWeight:"bold"},children:"\u6570\u636e\u5c55\u793a\u7ec4\u4ef6"}),children:w.map((function(e){var t=s[e],n=U[e],i=z[e];return(0,v.jsx)("div",{onDragStart:D(t,e,"controlCout"),className:"componentItem",children:(0,v.jsxs)("div",{style:{display:"inline-block"},draggable:!0,children:[(0,v.jsx)(n,{style:{marginRight:"10px"}}),(0,v.jsx)("span",{children:i})]})},e)}))},"3"),(0,v.jsx)(W,{header:(0,v.jsx)("span",{style:{fontWeight:"bold"},children:"\u81ea\u5b9a\u4e49\u7ec4\u4ef6"}),children:B.map((function(e){var t=e.Com,n=U.XinCard;return(0,v.jsx)("div",{onDragStart:D(t,e.code,"defineCom"),className:"componentItem",children:(0,v.jsxs)("div",{style:{display:"inline-block"},draggable:!0,children:[(0,v.jsx)(n,{style:{marginRight:"10px"}}),(0,v.jsx)("span",{children:e.name})]})},"item")}))},"4")]})},{key:"data",label:(0,v.jsxs)("div",{style:{display:"flex"},children:[(0,v.jsx)("div",{style:{fontSize:"16px",width:"80px",textAlign:"center"},children:"\u6570\u636e"}),(0,v.jsx)(J.Z,{onClick:function(){I(!1)},style:{color:"rgb(192, 190, 230)",cursor:"pointer",position:"relative",left:"30px"}})]}),children:(0,v.jsx)(b,{})}]})}):(0,v.jsx)(G.Z,{onClick:function(){I(!0)},style:{color:"rgb(192, 190, 230)",cursor:"pointer"}})}var K=n(4942),Q=n(44925),_=["index"],$=["title","editable","children","dataIndex","record","handleSave"],ee=r().createContext(null),te={body:{row:function(e){e.index;var t=(0,Q.Z)(e,_),n=f.Form.useForm(),a=(0,l.Z)(n,1)[0];return(0,v.jsx)(f.Form,{form:a,component:!1,children:(0,v.jsx)(ee.Provider,{value:a,children:(0,v.jsx)("tr",(0,i.Z)({},t))})})},cell:function(e){var t=e.title,n=e.editable,a=e.children,r=e.dataIndex,s=e.record,c=e.handleSave,h=(0,Q.Z)(e,$),p=(0,u.useState)(!1),O=(0,l.Z)(p,2),m=O[0],y=O[1],g=(0,u.useRef)(null),b=(0,u.useContext)(ee);(0,u.useEffect)((function(){m&&g.current.focus()}),[m]);var w=function(){y(!m),b.setFieldsValue((0,K.Z)({},r,s[r]))},x=function(){var e=(0,o.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.validateFields();case 3:t=e.sent,w(),c((0,i.Z)((0,i.Z)({},s),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),C=a;return n&&(C=m?(0,v.jsx)(f.Form.Item,{style:{margin:0},name:r,rules:[{required:!0,message:"".concat(t," is required.")}],children:(0,v.jsx)(f.Input,{ref:g,onPressEnter:x,onBlur:x})}):(0,v.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:w,children:a})),(0,v.jsx)("td",(0,i.Z)((0,i.Z)({},h),{},{children:C}))}}};function ne(e){var t,n=e.showSetColumns,d=e.setShowSetColumns,o=e.comId,r=p().cloneDeep(c.Z.getState().attributeMap),s=(0,u.useState)({}),h=(0,l.Z)(s,2),m=(h[0],h[1]),y=(0,u.useState)(3),g=(0,l.Z)(y,2),b=g[0],w=g[1],x=[{title:"\u6807\u9898",dataIndex:"title",key:"title",editable:!0},{title:"\u7c7b\u578b",dataIndex:"type",key:"type",editable:!0},{title:"dataIndex",dataIndex:"dataIndex",key:"dataIndex",editable:!0},{title:"key",dataIndex:"key",key:"key",editable:!0},{title:"operation",dataIndex:"operation",render:function(e,t){return window.findNodeByComId(o,r).columnsData.length>=1?(0,v.jsx)(f.Popconfirm,{title:"Sure to delete?",onConfirm:function(){return S(t.key)},children:(0,v.jsx)("a",{children:"Delete"})}):null}}];(0,O.Z)((function(){m({})}),[]);var C=x.map((function(e){return e.editable?(0,i.Z)((0,i.Z)({},e),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:Z}}}):e})),S=function(e){var t,n,i=null===(t=window.findNodeByComId(o,r))||void 0===t?void 0:t.columnsData.findIndex((function(t){return t.key===e}));null===(n=window.findNodeByComId(o,r))||void 0===n||n.columnsData.splice(i,1),c.Z.dispatch({type:"change",attributeMap:r})},Z=function(e){var t,n=(0,a.Z)(null===(t=window.findNodeByComId(o,r))||void 0===t?void 0:t.columnsData),l=n.findIndex((function(t){return e.key===t.key})),d=n[l];n.splice(l,1,(0,i.Z)((0,i.Z)({},d),e)),window.findNodeByComId(o,r).columnsData=n,c.Z.dispatch({type:"change",attributeMap:r})};return(0,v.jsx)("div",{children:(0,v.jsxs)(f.Modal,{open:n,className:"editStyle",width:1e3,closable:!0,footer:null,onCancel:function(){d(!1)},children:[(0,v.jsx)(f.Button,{onClick:function(){var e,t=(0,K.Z)({key:b,title:"\u6807\u9898".concat(b),type:"\u6587\u672c",dataIndex:"dataIndex".concat(b)},"key","key".concat(b));null===(e=window.findNodeByComId(o,r))||void 0===e||e.columnsData.push(t),c.Z.dispatch({type:"change",attributeMap:r}),w(b+1)},type:"primary",style:{marginBottom:16},children:"Add a row"}),(0,v.jsx)(f.Table,{columns:C,dataSource:null===(t=window.findNodeByComId(o,r))||void 0===t?void 0:t.columnsData,components:te,rowClassName:function(){return"editable-row"},bordered:!0,scroll:{y:300},pagination:!1})]})})}var ie=["index"],le=["title","editable","children","dataIndex","record","handleSave"],ae=r().createContext(null),de={body:{row:function(e){e.index;var t=(0,Q.Z)(e,ie),n=f.Form.useForm(),a=(0,l.Z)(n,1)[0];return(0,v.jsx)(f.Form,{form:a,component:!1,children:(0,v.jsx)(ae.Provider,{value:a,children:(0,v.jsx)("tr",(0,i.Z)({},t))})})},cell:function(e){var t=e.title,n=e.editable,a=e.children,r=e.dataIndex,s=e.record,c=e.handleSave,h=(0,Q.Z)(e,le),p=(0,u.useState)(!1),O=(0,l.Z)(p,2),m=O[0],y=O[1],g=(0,u.useRef)(null),b=(0,u.useContext)(ae);(0,u.useEffect)((function(){m&&g.current.focus()}),[m]);var w=function(){y(!m),b.setFieldsValue((0,K.Z)({},r,s[r]))},x=function(){var e=(0,o.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.validateFields();case 3:t=e.sent,w(),c((0,i.Z)((0,i.Z)({},s),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),C=a;return n&&(C=m?(0,v.jsx)(f.Form.Item,{style:{margin:0},name:r,rules:[{required:!0,message:"".concat(t," is required.")}],children:(0,v.jsx)(f.Input,{ref:g,onPressEnter:x,onBlur:x})}):(0,v.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:w,children:a})),(0,v.jsx)("td",(0,i.Z)((0,i.Z)({},h),{},{children:C}))}}};function oe(e){var t,n=e.showSetTableData,d=e.setShowTableData,o=e.comId,r=p().cloneDeep(c.Z.getState().attributeMap),s=(0,u.useState)({}),h=(0,l.Z)(s,2),m=(h[0],h[1]),y=(0,u.useState)(3),g=(0,l.Z)(y,2),b=g[0],w=g[1],x=(0,u.useState)([]),C=(0,l.Z)(x,2),S=C[0],Z=C[1],I=[{title:"key",dataIndex:"key",key:"key",editable:!0},{title:"operation",dataIndex:"operation",render:function(e,t){return S.length>=1?(0,v.jsx)(f.Popconfirm,{title:"Sure to delete?",onConfirm:function(){return j(t.key)},children:(0,v.jsx)("a",{children:"Delete"})}):null}}];(0,u.useEffect)((function(){var e,t;((null===(e=window.findNodeByComId(o,r))||void 0===e?void 0:e.columnsData)||[]).forEach((function(e){e.editable=!0})),Z([].concat((0,a.Z)((null===(t=window.findNodeByComId(o,r))||void 0===t?void 0:t.columnsData)||[]),I))}),[n]),(0,O.Z)((function(){m({})}),[]);var k=S.map((function(e){return e.editable?(0,i.Z)((0,i.Z)({},e),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:B}}}):e})),j=function(e){var t,n,i=null===(t=window.findNodeByComId(o,r))||void 0===t?void 0:t.tableData.findIndex((function(t){return t.key===e}));null===(n=window.findNodeByComId(o,r))||void 0===n||n.tableData.splice(i,1),c.Z.dispatch({type:"change",attributeMap:r})},B=function(e){var t,n=(0,a.Z)(null===(t=window.findNodeByComId(o,r))||void 0===t?void 0:t.tableData),l=n.findIndex((function(t){return e.key===t.key})),d=n[l];n.splice(l,1,(0,i.Z)((0,i.Z)({},d),e)),window.findNodeByComId(o,r).tableData=n,c.Z.dispatch({type:"change",attributeMap:r})};return(0,v.jsx)("div",{children:(0,v.jsxs)(f.Modal,{open:n,className:"editStyle",width:1e3,closable:!0,footer:null,onCancel:function(){d(!1)},children:[(0,v.jsx)(f.Button,{onClick:function(){for(var e=window.findNodeByComId(o,r).columnsData,t={},n=0;n<e.length;n++)t[e[n].dataIndex]=e[n].dataIndex+b;t.key=b,window.findNodeByComId(o,r).tableData?window.findNodeByComId(o,r).tableData.push(t):window.findNodeByComId(o,r).tableData=[t],c.Z.dispatch({type:"change",attributeMap:r}),w(b+1)},type:"primary",style:{marginBottom:16},children:"Add a row"}),(0,v.jsx)(f.Table,{scroll:{y:300},columns:k,dataSource:null===(t=window.findNodeByComId(o,r))||void 0===t?void 0:t.tableData,components:de,rowClassName:function(){return"editable-row"},bordered:!0,pagination:!1})]})})}var ue,re=["StepBackwardOutlined","StepForwardOutlined","FastBackwardOutlined","FastForwardOutlined","ShrinkOutlined","ArrowsAltOutlined","DownOutlined","UpOutlined","LeftOutlined","RightOutlined","CaretUpOutlined","CaretDownOutlined","CaretLeftOutlined","CaretRightOutlined","UpCircleOutlined","DownCircleOutlined","LeftCircleOutlined","RightCircleOutlined","DoubleRightOutlined","DoubleLeftOutlined","VerticalLeftOutlined","VerticalRightOutlined","VerticalAlignTopOutlined","VerticalAlignMiddleOutlined","VerticalAlignBottomOutlined","ForwardOutlined","BackwardOutlined","RollbackOutlined","EnterOutlined","RetweetOutlined","SwapOutlined","SwapLeftOutlined","SwapRightOutlined","ArrowUpOutlined","ArrowDownOutlined","ArrowLeftOutlined","ArrowRightOutlined","PlayCircleOutlined","UpSquareOutlined","DownSquareOutlined","LeftSquareOutlined","RightSquareOutlined","LoginOutlined","LogoutOutlined","MenuFoldOutlined","MenuUnfoldOutlined","BorderBottomOutlined","BorderHorizontalOutlined","BorderInnerOutlined","BorderOuterOutlined","BorderLeftOutlined","BorderRightOutlined","BorderTopOutlined","BorderVerticleOutlined","PicCenterOutlined","PicLeftOutlined","PicRightOutlined","RadiusBottomleftOutlined","RadiusBottomrightOutlined","RadiusUpleftOutlined","RadiusUprightOutlined","FullscreenOutlined","FullscreenExitOutlined","QuestionOutlined","QuestionCircleOutlined","PlusOutlined","PlusCircleOutlined","PauseOutlined","PauseCircleOutlined","MinusOutlined","MinusCircleOutlined","PlusSquareOutlined","MinusSquareOutlined","InfoOutlined","InfoCircleOutlined","ExclamationOutlined","ExclamationCircleOutlined","CloseOutlined","CloseCircleOutlined","CloseSquareOutlined","CheckOutlined","CheckCircleOutlined","CheckSquareOutlined","ClockCircleOutlined","WarningOutlined","IssuesCloseOutlined","StopOutlined","EditOutlined","FormOutlined","CopyOutlined","ScissorOutlined","DeleteOutlined","SnippetsOutlined","DiffOutlined","HighlightOutlined","AlignCenterOutlined","AlignLeftOutlined","AlignRightOutlined","BgColorsOutlined","BoldOutlined","ItalicOutlined","UnderlineOutlined","StrikethroughOutlined","RedoOutlined","UndoOutlined","ZoomInOutlined","ZoomOutOutlined","FontColorsOutlined","FontSizeOutlined","LineHeightOutlined","DashOutlined","SmallDashOutlined","SortAscendingOutlined","SortDescendingOutlined","DragOutlined","OrderedListOutlined","UnorderedListOutlined","RadiusSettingOutlined","ColumnWidthOutlined","ColumnHeightOutlined","AreaChartOutlined","PieChartOutlined","BarChartOutlined","DotChartOutlined","LineChartOutlined","RadarChartOutlined","HeatMapOutlined","FallOutlined","RiseOutlined","StockOutlined","BoxPlotOutlined","FundOutlined","SlidersOutlined","AndroidOutlined","AppleOutlined","WindowsOutlined","IeOutlined","ChromeOutlined","GithubOutlined","AliwangwangOutlined","DingdingOutlined","WeiboSquareOutlined","WeiboCircleOutlined","TaobaoCircleOutlined","Html5Outlined","WeiboOutlined","TwitterOutlined","WechatOutlined","WhatsAppOutlined","YoutubeOutlined","AlipayCircleOutlined","TaobaoOutlined","DingtalkOutlined","SkypeOutlined","QqOutlined","MediumWorkmarkOutlined","GitlabOutlined","MediumOutlined","LinkedinOutlined","GooglePlusOutlined","DropboxOutlined","FacebookOutlined","CodepenOutlined","CodeSandboxOutlined","AmazonOutlined","GoogleOutlined","CodepenCircleOutlined","AlipayOutlined","AntDesignOutlined","AntCloudOutlined","AliyunOutlined","ZhihuOutlined","SlackOutlined","SlackSquareOutlined","BehanceOutlined","BehanceSquareOutlined","DribbbleOutlined","DribbbleSquareOutlined","InstagramOutlined","YuqueOutlined","AlibabaOutlined","YahooOutlined","RedditOutlined","SketchOutlined","AccountBookOutlined","AimOutlined","AlertOutlined","ApartmentOutlined","ApiOutlined","AppstoreAddOutlined","AppstoreOutlined","AudioOutlined","AudioMutedOutlined","AuditOutlined","BankOutlined","BarcodeOutlined","BarsOutlined","BellOutlined","BlockOutlined","BookOutlined","BorderOutlined","BorderlessTableOutlined","BranchesOutlined","BugOutlined","BuildOutlined","BulbOutlined","CalculatorOutlined","CalendarOutlined","CameraOutlined","CarOutlined","CarryOutOutlined","CiCircleOutlined","CiOutlined","ClearOutlined","CloudDownloadOutlined","CloudOutlined","CloudServerOutlined","CloudSyncOutlined","CloudUploadOutlined","ClusterOutlined","CodeOutlined","CoffeeOutlined","CommentOutlined","CompassOutlined","CompressOutlined","ConsoleSqlOutlined","ContactsOutlined","ContainerOutlined","ControlOutlined","CopyrightOutlined","CreditCardOutlined","CrownOutlined","CustomerServiceOutlined","DashboardOutlined","DatabaseOutlined","DeleteColumnOutlined","DeleteRowOutlined","DeliveredProcedureOutlined","DeploymentUnitOutlined","DesktopOutlined","DisconnectOutlined","DislikeOutlined","DollarOutlined","DownloadOutlined","EllipsisOutlined","EnvironmentOutlined","EuroCircleOutlined","EuroOutlined","ExceptionOutlined","ExpandAltOutlined","ExpandOutlined","ExperimentOutlined","ExportOutlined","EyeOutlined","EyeInvisibleOutlined","FieldBinaryOutlined","FieldNumberOutlined","FieldStringOutlined","FieldTimeOutlined","FileAddOutlined","FileDoneOutlined","FileExcelOutlined","FileExclamationOutlined","FileOutlined","FileGifOutlined","FileImageOutlined","FileJpgOutlined","FileMarkdownOutlined","FilePdfOutlined","FilePptOutlined","FileProtectOutlined","FileSearchOutlined","FileSyncOutlined","FileTextOutlined","FileUnknownOutlined","FileWordOutlined","FileZipOutlined","FilterOutlined","FireOutlined","FlagOutlined","FolderAddOutlined","FolderOutlined","FolderOpenOutlined","FolderViewOutlined","ForkOutlined","FormatPainterOutlined","FrownOutlined","FunctionOutlined","FundProjectionScreenOutlined","FundViewOutlined","FunnelPlotOutlined","GatewayOutlined","GifOutlined","GiftOutlined","GlobalOutlined","GoldOutlined","GroupOutlined","HddOutlined","HeartOutlined","HistoryOutlined","HolderOutlined","HomeOutlined","HourglassOutlined","IdcardOutlined","ImportOutlined","InboxOutlined","InsertRowAboveOutlined","InsertRowBelowOutlined","InsertRowLeftOutlined","InsertRowRightOutlined","InsuranceOutlined","InteractionOutlined","KeyOutlined","LaptopOutlined","LayoutOutlined","LikeOutlined","LineOutlined","LinkOutlined","Loading3QuartersOutlined","LoadingOutlined","LockOutlined","MacCommandOutlined","MailOutlined","ManOutlined","MedicineBoxOutlined","MehOutlined","MenuOutlined","MergeCellsOutlined","MessageOutlined","MobileOutlined","MoneyCollectOutlined","MonitorOutlined","MoreOutlined","NodeCollapseOutlined","NodeExpandOutlined","NodeIndexOutlined","NotificationOutlined","NumberOutlined","OneToOneOutlined","PaperClipOutlined","PartitionOutlined","PayCircleOutlined","PercentageOutlined","PhoneOutlined","PictureOutlined","PlaySquareOutlined","PoundCircleOutlined","PoundOutlined","PoweroffOutlined","PrinterOutlined","ProfileOutlined","ProjectOutlined","PropertySafetyOutlined","PullRequestOutlined","PushpinOutlined","QrcodeOutlined","ReadOutlined","ReconciliationOutlined","RedEnvelopeOutlined","ReloadOutlined","RestOutlined","RobotOutlined","RocketOutlined","RotateLeftOutlined","RotateRightOutlined","SafetyCertificateOutlined","SafetyOutlined","SaveOutlined","ScanOutlined","ScheduleOutlined","SearchOutlined","SecurityScanOutlined","SelectOutlined","SendOutlined","SettingOutlined","ShakeOutlined","ShareAltOutlined","ShopOutlined","ShoppingCartOutlined","ShoppingOutlined","SisternodeOutlined","SkinOutlined","SmileOutlined","SolutionOutlined","SoundOutlined","SplitCellsOutlined","StarOutlined","SubnodeOutlined","SwitcherOutlined","SyncOutlined","TableOutlined","TabletOutlined","TagOutlined","TagsOutlined","TeamOutlined","ThunderboltOutlined","ToTopOutlined","ToolOutlined","TrademarkCircleOutlined","TrademarkOutlined","TransactionOutlined","TranslationOutlined","TrophyOutlined","UngroupOutlined","UnlockOutlined","UploadOutlined","UsbOutlined","UserAddOutlined","UserDeleteOutlined","UserOutlined","UserSwitchOutlined","UsergroupAddOutlined","UsergroupDeleteOutlined","VerifiedOutlined","VideoCameraAddOutlined","VideoCameraOutlined","WalletOutlined","WifiOutlined","WomanOutlined"];function se(e){var t=e.showIcon,i=e.setShowIcon,a=e.comId,d=(0,u.useState)([]),o=(0,l.Z)(d,2),r=o[0],s=o[1],h=(0,u.useState)(""),O=(0,l.Z)(h,2),m=O[0],y=O[1],g=p().cloneDeep(c.Z.getState().attributeMap);(0,u.useEffect)((function(){s(re)}),[]),(0,u.useEffect)((function(){var e=window.findNodeByComId(a,g);null!==e&&void 0!==e&&e.iconType&&y(e.iconType)}),[]);var b=function(e){return function(){y(e)}};return(0,v.jsx)(f.Modal,{open:t,className:"setIcon",onOk:function(){window.findNodeByComId(a,g).iconType=m,c.Z.dispatch({type:"change",attributeMap:g}),i(!1)},width:600,onCancel:function(){i(!1)},closable:!1,children:(0,v.jsx)("div",{className:"listMap",children:r.map((function(e){var t=n(56903)[e];return(0,v.jsx)("div",{onClick:b(e),className:m===e?"activeItem":"IconItem",children:(0,v.jsx)(t,{})},e)}))})})}var ce=(ue={attributeValue:"\u5c5e\u6027\u503c",size:"\u5927\u5c0f",disabled:"\u662f\u5426\u7981\u7528",addonBefore:"\u524d\u7f6e\u6807\u7b7e",addonAfter:"\u540e\u7f6e\u6807\u7b7e",placeholder:"\u9ed8\u8ba4\u63d0\u793a",url:"URL\u5730\u5740",openType:"\u65b0\u9875\u7b7e\u6253\u5f00",listItemNum:"\u5b50\u5143\u7d20",title:"\u6807\u9898",buttonType:"\u6309\u94ae\u7c7b\u578b"},(0,K.Z)(ue,"size","\u7ec4\u4ef6\u5927\u5c0f"),(0,K.Z)(ue,"danger","\u5371\u9669\u6309\u94ae"),(0,K.Z)(ue,"ghost","\u5e7d\u7075\u6309\u94ae"),(0,K.Z)(ue,"prefix","\u524d\u7f00"),(0,K.Z)(ue,"suffix","\u540e\u7f00"),(0,K.Z)(ue,"allowClear","\u5141\u8bb8\u6e05\u9664"),(0,K.Z)(ue,"showCount","\u5c55\u793a\u5b57\u6570"),(0,K.Z)(ue,"checked","\u662f\u5426\u9009\u4e2d"),(0,K.Z)(ue,"label","\u6807\u7b7e"),(0,K.Z)(ue,"layout","\u5e03\u5c40"),(0,K.Z)(ue,"required","\u5fc5\u586b"),(0,K.Z)(ue,"requiredMessage","\u5fc5\u586b\u63d0\u793a"),(0,K.Z)(ue,"colon","\u6807\u9898\u5192\u53f7"),(0,K.Z)(ue,"labelAlign","\u6807\u9898\u5bf9\u9f50\u65b9\u5f0f"),(0,K.Z)(ue,"iconType","\u56fe\u6807\u7c7b\u578b"),(0,K.Z)(ue,"twoToneColor","\u4e3b\u9898\u8272"),(0,K.Z)(ue,"rotate","\u65cb\u8f6c\u89d2\u5ea6"),(0,K.Z)(ue,"mode","\u83dc\u5355\u7c7b\u578b"),(0,K.Z)(ue,"visible","\u9690\u85cf"),(0,K.Z)(ue,"picker","\u65e5\u671f\u7c7b\u578b"),(0,K.Z)(ue,"showTime","\u5c55\u793a\u65f6\u95f4"),(0,K.Z)(ue,"dateFormat","\u65e5\u671f\u683c\u5f0f"),(0,K.Z)(ue,"attributeValueNumber","\u5c5e\u6027\u503c"),(0,K.Z)(ue,"max","\u6700\u5927\u503c"),(0,K.Z)(ue,"min","\u6700\u5c0f\u503c"),(0,K.Z)(ue,"step","\u6b65\u6570\u5927\u5c0f"),(0,K.Z)(ue,"optionType","\u5355\u9009\u7c7b\u578b"),(0,K.Z)(ue,"buttonStyle","\u6309\u94ae\u98ce\u683c"),(0,K.Z)(ue,"selectedID","\u9009\u4e2d\u8282\u70b9ID"),(0,K.Z)(ue,"allowHalf","\u5141\u8bb8\u534a\u9009"),(0,K.Z)(ue,"count","star\u603b\u6570"),(0,K.Z)(ue,"disabled","\u7981\u7528"),(0,K.Z)(ue,"bordered","\u8fb9\u6846"),(0,K.Z)(ue,"setColumns","\u8868\u5934\u5b57\u6bb5"),(0,K.Z)(ue,"setTableData","\u8868\u683c\u5185\u5bb9"),(0,K.Z)(ue,"showHeader","\u7981\u7528\u8868\u5934"),(0,K.Z)(ue,"selectedKey","\u9009\u4e2d\u83dc\u5355key"),(0,K.Z)(ue,"pageUrl","\u9875\u9762ID"),(0,K.Z)(ue,"autoplay","\u81ea\u52a8\u5207\u6362"),(0,K.Z)(ue,"src","\u8d44\u6e90\u5730\u5740"),(0,K.Z)(ue,"shape","\u5f62\u72b6"),(0,K.Z)(ue,"activeKey","\u5f53\u524dkey"),(0,K.Z)(ue,"animated","\u5f00\u542f\u52a8\u753b"),(0,K.Z)(ue,"centered","\u6807\u7b7e\u5c45\u4e2d"),(0,K.Z)(ue,"tabBarGutter","\u9875\u7b7e\u95f4\u9699"),(0,K.Z)(ue,"tabPosition","\u9875\u7b7e\u4f4d\u7f6e"),(0,K.Z)(ue,"tabsType","\u9875\u7b7e\u6837\u5f0f"),(0,K.Z)(ue,"description","\u63cf\u8ff0"),(0,K.Z)(ue,"setIcon","\u9009\u62e9\u56fe\u6807"),(0,K.Z)(ue,"inputType","\u7c7b\u578b"),ue);function he(e){var t=e.rightPanel,n=e.comId,i=(0,u.useState)(!1),a=(0,l.Z)(i,2),d=a[0],o=a[1],r=(0,u.useState)(!1),s=(0,l.Z)(r,2),h=s[0],m=s[1],y=(0,u.useState)(!1),g=(0,l.Z)(y,2),b=g[0],w=g[1],x=p().cloneDeep(c.Z.getState().attributeMap),C=(0,u.useState)({}),S=(0,l.Z)(C,2),Z=(S[0],S[1]),I=(0,u.useState)(!0),k=(0,l.Z)(I,2),j=k[0],B=k[1];(0,O.Z)((function(){Z({})}));var N=function(e,t){switch(e){case"disabled":var i;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(i=window.findNodeByComId(n,x))||void 0===i?void 0:i[e])||!1});case"centered":var l;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(l=window.findNodeByComId(n,x))||void 0===l?void 0:l[e])||!1});case"animated":var a;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(a=window.findNodeByComId(n,x))||void 0===a?void 0:a[e])||!1});case"autoplay":var d;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(d=window.findNodeByComId(n,x))||void 0===d?void 0:d[e])||!1});case"showHeader":var u;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(u=window.findNodeByComId(n,x))||void 0===u?void 0:u[e])||!1});case"bordered":var r;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(r=window.findNodeByComId(n,x))||void 0===r?void 0:r[e])||!1});case"allowHalf":var s;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(s=window.findNodeByComId(n,x))||void 0===s?void 0:s[e])||!1});case"visible":var c;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!0,onChange:X(e),checked:(null===(c=window.findNodeByComId(n,x))||void 0===c?void 0:c[e])||!1});case"showTime":var h;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!0,onChange:X(e),checked:(null===(h=window.findNodeByComId(n,x))||void 0===h?void 0:h[e])||!1});case"labelAlign":var p;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"right",onChange:X(e),value:(null===(p=window.findNodeByComId(n,x))||void 0===p?void 0:p[e])||"right",options:[{label:"\u5de6\u4fa7",value:"left"},{label:"\u53f3\u4fa7",value:"right"}]});case"tabPosition":var O;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"top",onChange:X(e),value:(null===(O=window.findNodeByComId(n,x))||void 0===O?void 0:O[e])||"top",options:[{label:"\u5de6\u4fa7",value:"left"},{label:"\u53f3\u4fa7",value:"right"},{label:"\u5934\u90e8",value:"top"},{label:"\u5e95\u90e8",value:"bottom"}]});case"tabsType":var y;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"line",onChange:X(e),value:(null===(y=window.findNodeByComId(n,x))||void 0===y?void 0:y[e])||"line",options:[{label:"\u7ebf\u6761",value:"line"},{label:"\u5361\u7247",value:"card"}]});case"optionType":var g;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"default",onChange:X(e),value:(null===(g=window.findNodeByComId(n,x))||void 0===g?void 0:g[e])||"default",options:[{label:"\u9ed8\u8ba4",value:"default"},{label:"\u6309\u94ae",value:"button"}]});case"shape":var b;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"circle",onChange:X(e),value:(null===(b=window.findNodeByComId(n,x))||void 0===b?void 0:b[e])||"circle",options:[{label:"\u5706\u5f62",value:"circle"},{label:"\u65b9\u5f62",value:"square"}]});case"buttonStyle":var C;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"outline ",onChange:X(e),value:(null===(C=window.findNodeByComId(n,x))||void 0===C?void 0:C[e])||"outline ",options:[{label:"\u865a\u7ebf",value:"outline "},{label:"\u5b9e\u7ebf",value:"solid"}]});case"picker":var S;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"date",onChange:X(e),value:(null===(S=window.findNodeByComId(n,x))||void 0===S?void 0:S[e])||"date",options:[{label:"\u65e5\u671f",value:"date"},{label:"\u5468\u4efd",value:"week"},{label:"\u6708\u4efd",value:"month"},{label:"\u5b63\u5ea6",value:"quarter"},{label:"\u5e74\u4efd",value:"year"}]});case"checked":var Z;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(Z=window.findNodeByComId(n,x))||void 0===Z?void 0:Z[e])||!1});case"colon":var I,k;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},onChange:X(e),checked:void 0===(null===(I=window.findNodeByComId(n,x))||void 0===I?void 0:I[e])||(null===(k=window.findNodeByComId(n,x))||void 0===k?void 0:k[e])});case"danger":var j;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(j=window.findNodeByComId(n,x))||void 0===j?void 0:j[e])||!1});case"required":var B;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(B=window.findNodeByComId(n,x))||void 0===B?void 0:B[e])||!1});case"ghost":var N;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(N=window.findNodeByComId(n,x))||void 0===N?void 0:N[e])||!1});case"allowClear":var D;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(D=window.findNodeByComId(n,x))||void 0===D?void 0:D[e])||!1});case"showCount":var T;return(0,v.jsx)(f.Switch,{style:{marginRight:"70px"},defaultValue:!1,onChange:X(e),checked:(null===(T=window.findNodeByComId(n,x))||void 0===T?void 0:T[e])||!1});case"buttonType":var R;return(0,v.jsx)(f.Select,{style:{width:120,height:20},defaultValue:"primary",onChange:X(e),value:(null===(R=window.findNodeByComId(n,x))||void 0===R?void 0:R[e])||"primary",options:[{label:"\u9ed8\u8ba4\u6309\u94ae",value:"primary"},{label:"\u865a\u7ebf\u6309\u94ae",value:"dashed"},{label:"\u6587\u672c\u6309\u94ae",value:"text"},{label:"\u94fe\u63a5\u6309\u94ae",value:"link"}]});case"size":var F;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"default",onChange:X(e),value:(null===(F=window.findNodeByComId(n,x))||void 0===F?void 0:F[e])||"default",options:[{label:"\u5927",value:"large"},{label:"\u5c0f",value:"small"},{label:"\u4e2d",value:"default"}]});case"layout":var A;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"horizontal",value:(null===(A=window.findNodeByComId(n,x))||void 0===A?void 0:A[e])||"horizontal",onChange:X(e),options:[{label:"\u6c34\u5e73",value:"horizontal"},{label:"\u7ad6\u76f4",value:"vertical"}]});case"mode":var M;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"vertical",value:(null===(M=window.findNodeByComId(n,x))||void 0===M?void 0:M[e])||"vertical",onChange:X(e),options:[{label:"\u6c34\u5e73",value:"horizontal"},{label:"\u7ad6\u76f4",value:"vertical"},{label:"\u5185\u5d4c",value:"inline"}]});case"inputType":var L;return(0,v.jsx)(f.Select,{style:{width:120,height:25},defaultValue:"text",value:(null===(L=window.findNodeByComId(n,x))||void 0===L?void 0:L[e])||"text",onChange:X(e),options:[{label:"\u6587\u672c\u6846",value:"text"},{label:"\u641c\u7d22\u6846",value:"Search"},{label:"\u5bc6\u7801\u6846",value:"Password"},{label:"\u5927\u6587\u672c\u6846",value:"TextArea"}]});case"setColumns":return(0,v.jsx)(f.Button,{onClick:function(){o(!0)},style:{width:"130px",position:"relative",bottom:"5px",left:"20px"},children:"\u8bbe\u7f6e\u8868\u5934"});case"setTableData":return(0,v.jsx)(f.Button,{onClick:function(){m(!0)},style:{width:"130px",position:"relative",bottom:"5px",left:"0px"},children:"\u8bbe\u7f6e\u5185\u5bb9"});case"setIcon":return(0,v.jsx)(f.Button,{onClick:function(){w(!0)},style:{width:"120px",position:"relative",bottom:"5px"},children:"\u9009\u62e9\u56fe\u6807"});case"attributeValueNumber":var P;return(0,v.jsx)(f.Input,{style:{width:120,height:30},type:"number",onChange:X(e),value:(null===(P=window.findNodeByComId(n,x))||void 0===P?void 0:P[e])||""},t);case"count":var V;return(0,v.jsx)(f.Input,{style:{width:120,height:30},type:"number",onChange:X(e),value:(null===(V=window.findNodeByComId(n,x))||void 0===V?void 0:V[e])||""},t);case"step":var E;return(0,v.jsx)(f.Input,{style:{width:120,height:30},type:"number",onChange:X(e),value:(null===(E=window.findNodeByComId(n,x))||void 0===E?void 0:E[e])||""},t);case"max":var q;return(0,v.jsx)(f.Input,{style:{width:120,height:30},type:"number",onChange:X(e),value:(null===(q=window.findNodeByComId(n,x))||void 0===q?void 0:q[e])||""},t);case"min":var U;return(0,v.jsx)(f.Input,{style:{width:120,height:30},type:"number",onChange:X(e),value:(null===(U=window.findNodeByComId(n,x))||void 0===U?void 0:U[e])||""},t);case"rotate":var z;return(0,v.jsx)(f.Input,{style:{width:120,height:30},type:"number",onChange:X(e),value:(null===(z=window.findNodeByComId(n,x))||void 0===z?void 0:z[e])||""},t);case"tabBarGutter":var J;return(0,v.jsx)(f.Input,{style:{width:120,height:30},type:"number",onChange:X(e),value:(null===(J=window.findNodeByComId(n,x))||void 0===J?void 0:J[e])||""},t);default:var G;return(0,v.jsx)(f.Input,{style:{width:120,height:30},onChange:X(e),value:(null===(G=window.findNodeByComId(n,x))||void 0===G?void 0:G[e])||""},t)}},X=function(e){return function(t){"object"===typeof t&&(t=t.target.value),window.findNodeByComId(n,x,x)[e]=t,c.Z.dispatch({type:"change",attributeMap:x})}};return j?(0,v.jsxs)("div",{className:"rightCom",children:[(0,v.jsx)(ne,{comId:n,setShowSetColumns:o,showSetColumns:d}),(0,v.jsx)(oe,{comId:n,setShowTableData:m,showSetTableData:h}),(0,v.jsx)(se,{comId:n,showIcon:b,setShowIcon:w}),(0,v.jsxs)("div",{children:[(0,v.jsx)(G.Z,{onClick:function(){B(!1)},style:{color:"rgb(192, 190, 230)",cursor:"pointer",marginRight:"10px"}}),(0,v.jsx)("div",{style:{height:"30px"},children:(0,v.jsx)("span",{style:{fontWeight:"bold"},children:n})}),(0,v.jsx)("hr",{}),(t[n]||[]).map((function(e,t){return(0,v.jsxs)("div",{className:"attributeItem",children:[(0,v.jsx)("label",{children:ce[e]||e}),(0,v.jsx)("div",{className:"attributeItemValue",children:N(e,t)})]},t)}))]})]}):(0,v.jsx)(J.Z,{onClick:function(){B(!0)},style:{color:"rgb(192, 190, 230)",cursor:"pointer"}})}var pe=n(38399);n(56339),n(12137),n(30027),n(25351);function Oe(e){var t=e.changeActionJs,n=e.submitAction,i=e.actionJs,l=e.showAction,a=e.actionName;return(0,v.jsx)(f.Modal,{open:l,className:"editStyle",onOk:n(!0),width:600,onCancel:n(!1),closable:!1,children:(0,v.jsx)(pe.ZP,{name:"editAction",mode:"javascript",theme:"github",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},onChange:t,value:(null===i||void 0===i?void 0:i[a])||""})})}function fe(e){var t=e.changeStyleCss,n=e.submitStyle,i=e.styleCss,l=e.showStyle;return(0,v.jsx)(f.Modal,{open:l,className:"editStyle",onOk:n(!0),onCancel:n(!1),bodyStyle:{width:"800px",height:"400px"},closable:!1,children:(0,v.jsx)("textarea",{className:"textarea",onChange:t,value:i||""})})}var ve=n(16871),me=function(e){var t=[{label:"\u8bbe\u7f6e\u5c5e\u6027",key:"setAttribute"},{label:"\u8bbe\u7f6e\u6837\u5f0f",key:"setStyle"}];switch(e){case"XinButton":case"XinLable":case"XinIcon":case"XinDiv":case"XinAvatar":t.push({label:"\u8bbe\u7f6e\u52a8\u4f5c",key:"setAction",children:[{label:"onClick\u4e8b\u4ef6",key:"setClick"}]});break;case"XinCheckBox":case"XinDatePicker":case"XinInput":case"XinMenu":case"XinNumber":case"XinRadioGroup":case"XinCarousel":case"XinTabs":t.push({label:"\u8bbe\u7f6e\u52a8\u4f5c",key:"setAction",children:[{label:"onChange\u4e8b\u4ef6",key:"setChange"}]});break;case"XinRadio":t.push({label:"\u8bbe\u7f6e\u52a8\u4f5c",key:"setAction",children:[{label:"onClick\u4e8b\u4ef6",key:"setClick"},{label:"onChange\u4e8b\u4ef6",key:"setChange"}]});break;case"XinTable":case"XinList":t.push({label:"\u8bbe\u7f6e\u52a8\u4f5c",key:"setAction",children:[{label:"onLoad\u4e8b\u4ef6",key:"setLoad"}]})}return t},ye={XinButton:["attributeValue","visible","buttonType","size","disabled","danger","ghost"],XinInput:["attributeValue","visible","inputType","addonBefore","addonAfter","placeholder","size","prefix","suffix","allowClear","label","required","requiredMessage"],XinLable:["attributeValue","visible"],XinCheckBox:["attributeValue","visible","disabled","checked","label","required","requiredMessage"],XinRadio:["attributeValue","visible","disabled","checked"],XinForm:["visible","disabled","size","layout","colon","labelAlign"],XinRadioGroup:["visible","disabled","buttonStyle","optionType","size","selectedID"],XinIcon:["visible","iconType","twoToneColor","rotate","setIcon"],XinMenu:["visible","mode","selectedKey"],XinDatePicker:["attributeValue","visible","picker","showTime","dateFormat","disabled","size","allowClear","label","required","requiredMessage"],XinNumber:["attributeValueNumber","visible","placeholder","size","prefix","allowClear","max","min","label","required","requiredMessage","step"],XinRate:["allowHalf","count","disabled"],XinCard:["bordered","size","title","visible"],XinTable:["setColumns","setTableData","bordered","showHeader","size"],XinFlex:["visible","attributeValue"],XinLink:["visible","attributeValue","pageUrl"],XinDiv:["visible","src"],XinCarousel:["visible","autoplay"],XinAvatar:["visible","size","iconType","shape","src","setIcon"],XinTabs:["activeKey","animated","centered","size","tabPosition","tabBarGutter","tabsType"],XinListItem:["title","description"],XinList:["size","bordered","attributeValue"],XinUpload:["attributeValue"]},ge=["XinForm","XinMenu","XinRadioGroup","XinCard","XinFlex","XinCarousel","XinTabs","XinList"];function be(e){var t=e.showSelectContainer,n=e.setShowSelectContainer,a=e.containerOptions,d=e.newCom,o=(0,u.useState)({}),r=(0,l.Z)(o,2),s=r[0],h=r[1],O=p().cloneDeep(c.Z.getState().attributeMap),m=a.map((function(e){return{value:e.comId,label:e.comId}})),y=function e(t,n){for(var i in n)n[i].comId===t.comId?n[i]=t:n[i].childList&&e(t,n[i].childList)};return(0,v.jsx)("div",{children:(0,v.jsxs)(f.Modal,{open:t,onOk:function(){delete d.style,s.childList||(s.childList={}),s.childList[d.comId]=d,y(s,O),c.Z.dispatch({type:"change",attributeMap:O}),n(!1)},onCancel:function(){n(!1)},closable:!1,children:[(0,v.jsx)("span",{children:"\u8bf7\u9009\u62e9\u7236\u5bb9\u5668\uff1a"}),(0,v.jsx)(f.Select,{onSelect:function(e){var t=a.find((function(t){return t.comId===e}));h((0,i.Z)({comId:e},t))},value:null===s||void 0===s?void 0:s.comId,style:{width:120},options:m})]})})}function we(e){var t,n,a,r,h,m,y=(0,u.useState)(!1),g=(0,l.Z)(y,2),b=g[0],w=g[1],x=(0,u.useState)({}),C=(0,l.Z)(x,2),S=C[0],Z=C[1],I=(0,u.useState)(""),k=(0,l.Z)(I,2),j=k[0],B=k[1],N=(0,u.useState)(!1),X=(0,l.Z)(N,2),D=X[0],T=X[1],R=(0,u.useState)(""),F=(0,l.Z)(R,2),A=F[0],M=F[1],L=(0,u.useState)(""),P=(0,l.Z)(L,2),V=P[0],E=P[1],q=(0,u.useState)("click"),U=(0,l.Z)(q,2),z=U[0],J=U[1],G=(0,u.useState)(),W=(0,l.Z)(G,2),Y=W[0],K=W[1],Q=(0,u.useState)(),_=(0,l.Z)(Q,2),$=_[0],ee=_[1],te=(0,u.useState)(),ne=(0,l.Z)(te,2),ie=ne[0],le=ne[1],ae=(0,u.useState)(),de=(0,l.Z)(ae,2),oe=de[0],ue=de[1],re=(0,u.useState)(!1),se=(0,l.Z)(re,2),ce=se[0],he=se[1],pe=(0,u.useState)(!1),we=(0,l.Z)(pe,2),xe=we[0],Ce=we[1],Se=(0,u.useState)(!1),Ze=(0,l.Z)(Se,2),Ie=Ze[0],ke=Ze[1],je=(0,u.useState)([]),Be=(0,l.Z)(je,2),Ne=Be[0],Xe=Be[1],De=(0,u.useState)({}),Te=(0,l.Z)(De,2),Re=Te[0],Fe=Te[1],Ae=(0,u.useState)({}),Me=(0,l.Z)(Ae,2),Le=(Me[0],Me[1]),Pe=(0,ve.TH)().state,Ve=f.message.useMessage(),Ee=(0,l.Z)(Ve,2),qe=Ee[0],Ue=Ee[1],ze={XinForm:[400,200],XinMenu:[600,100],XinRadioGroup:[250,40],XinCard:[300,400],XinFlex:[400,400],XinCarousel:[600,200],XinTabs:[400,400],XinList:[600,600]},Je=p().cloneDeep(c.Z.getState().attributeMap),Ge=e.NowCom,He=e.changeRightPanel,We="";(0,O.Z)((function(){Le({})})),(0,u.useEffect)((function(){null!==Pe&&void 0!==Pe&&Pe.pageId?H.Z.post("http://".concat(window.location.hostname,":80/pageJson/findPageByID"),{pageId:Pe.pageId}).then((function(e){var t;Je=(null===(t=e.data.data)||void 0===t?void 0:t.pageJson)||{},c.Z.dispatch({type:"change",attributeMap:Je})})).catch((function(e){qe.open({type:"error",content:"\u83b7\u53d6\u9875\u9762\u8be6\u60c5\u5931\u8d25"})})):qe.open({type:"error",content:"\u83b7\u53d6\u9875\u9762\u8be6\u60c5\u5931\u8d25"})}),[]),(0,u.useEffect)((function(){var e,t;Z(null===(e=window.findNodeByComId(j,Je))||void 0===e?void 0:e.actionJs),M(null===(t=window.findNodeByComId(V,Je))||void 0===t?void 0:t.styleCss)}),[b,D]);var Ye=function(e,t,n){var i;for(var l in Je)ge.includes(Je[l].comType)&&parseInt(Je[l].style.left)<e&&parseInt(Je[l].style.left)+(Je[l].style.width||ze[Je[l].comType][0])>e&&parseInt(Je[l].style.top)<t&&parseInt(Je[l].style.top)+(Je[l].style.height||ze[Je[l].comType][1])>t&&(i=Je[l]);if(i&&Object.values(i.childList||[]).filter((function(e){return"container"===e.groupType})).length>0){var a=[];if(Ke(i,a),a.length>1)return Xe(a),ke(!0),!0}else if(i)return delete n.style,i.childList||(i.childList={}),i.childList[n.comId]=n,c.Z.dispatch({type:"change",attributeMap:Je}),!0},Ke=function e(t,n){if(t.childList){n.push(t);for(var i=Object.values(t.childList),l=0;l<i.length;l++)"container"===i[l].groupType&&n.push(i[l]),i[l].childList&&Object.values(i[l].childList).forEach((function(t){e(t,n)}))}else"container"===t.groupType&&n.push(t)},Qe=function(e){We=e.target.id,t=e.clientX,n=e.clientY,h=e.target.offsetLeft,m=e.target.offsetTop},_e=function(e,t,n,i){"attribute"===n?He(t,e):"action"===n?(B(e),Z({}),w(!0),J(i)):"style"===n&&(E(e),M(""),T(!0))},$e=function(){var e=(0,o.Z)((0,d.Z)().mark((function e(t,n,i,l){var a,o,u,r,s;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("attribute"!==i){e.next=17;break}if(!ye[t]){e.next=5;break}_e(n,ye[t],"attribute"),e.next=15;break;case 5:return e.next=7,H.Z.get("http://".concat(window.location.hostname,":3000/api/getpackage?code=").concat(t));case 7:return a=e.sent,o=a.data.packageList.fileDirName,e.next=11,H.Z.get("http://".concat(window.location.hostname,":3000/api/getpackageConfig?fileDirName=").concat(o));case 11:u=e.sent,r=u.data.packageConfig,s=r.map((function(e){return e.packageConfig.attributeName})),_e(n,s,"attribute");case 15:e.next=18;break;case 17:"action"===i?_e(n,["attributeValue"],"action",l):"style"===i&&_e(n,["attributeValue"],"style");case 18:case"end":return e.stop()}}),e)})));return function(t,n,i,l){return e.apply(this,arguments)}}(),et=function e(t,n){var l,a,d=s[t.comType];d||"defineCom"!==t.groupType||(d=new Function("return "+t.component)());return d?(0,v.jsx)("div",{id:t.comId,onDragStart:Qe,draggable:!n,style:t.style,children:(0,v.jsx)(f.Dropdown,{menu:{items:me(t.comType),onClick:(l=t.comType,a=t.comId,function(e){switch(e.key){case"setAttribute":$e(l,a,"attribute");break;case"setStyle":$e(l,a,"style");break;case"setClick":$e(l,a,"action","click");break;case"setChange":$e(l,a,"action","change");break;case"setLoad":$e(l,a,"action","load")}})},trigger:["contextMenu"],children:(0,v.jsx)("div",{onContextMenu:function(e){e.stopPropagation()},children:(0,v.jsx)(d,(0,i.Z)((0,i.Z)({},window.findNodeByComId(t.comId,Je)),{},{children:Object.keys(t.childList||{}).map((function(n){return e(t.childList[n],!0)}))}))})})},t.comId):(0,v.jsx)(v.Fragment,{})};return(0,v.jsxs)("div",{onDrop:function(e){var i;a=e.clientX,r=e.clientY,i=t&&n?{position:"absolute",left:a-t+h+"px",top:r-n+m+"px",zIndex:100}:{position:"absolute",left:e.clientX+"px",top:e.clientY+"px",zIndex:100};var l=window.findNodeByComId(We,Je);if(l)l.style=i;else{var d={style:i,comId:Ge.name+e.clientX,comType:Ge.name,groupType:Ge.groupType,component:Ge.component};if(Fe(d),Ye(e.clientX,e.clientY,d))return;Je[d.comId]=d}c.Z.dispatch({type:"change",attributeMap:Je})},onDragOver:function(e){e.preventDefault()},onDragEnter:function(e){e.preventDefault()},className:"renderCom",children:[Ue,Object.keys(Je).map((function(e){return et(Je[e])})),(0,v.jsx)("div",{style:{display:xe?"block":"none",border:"1px solid blue",width:Math.abs(ie-Y)+"px",height:Math.abs(oe-$)+"px",position:"absolute",left:Y<ie?Y:ie+"px",top:$<oe?$:oe+"px"}}),(0,v.jsx)(Oe,{actionName:z,showAction:b,changeActionJs:function(e){var t=null;return function(n){clearTimeout(t),t=setTimeout((function(){var e={};e[z]=n,Z(e)}),e)}}(800),actionJs:S,submitAction:function(e){return function(){if(e){var t=window.findNodeByComId(j,Je);t.actionJs||(t.actionJs={}),t.actionJs[z]=null===S||void 0===S?void 0:S[z],c.Z.dispatch({type:"change",attributeMap:Je})}w(!1)}}}),(0,v.jsx)(fe,{showStyle:D,changeStyleCss:function(e){M(e.target.value)},styleCss:A,submitStyle:function(e){return function(){e&&(window.findNodeByComId(V,Je).styleCss=A,c.Z.dispatch({type:"change",attributeMap:Je}));T(!1)}}}),(0,v.jsx)(be,{newCom:Re,containerOptions:Ne,setShowSelectContainer:ke,showSelectContainer:Ie}),(0,v.jsx)("div",{onMouseUp:function(e){he(!1),Ce(!1)},onMouseMove:function(e){ce&&(le(e.clientX),ue(e.clientY),Ce(!0))},onMouseDown:function(e){K(e.clientX),ee(e.clientY),he(!0),Ce(!1)},style:{width:"60%",height:"100%",position:"absolute",zIndex:"10"}})]})}var xe=n(40447),Ce=n(50446),Se=n(78030),Ze=n(37295);function Ie(e){var t=(0,u.useState)({}),n=(0,l.Z)(t,2),i=(n[0],n[1]),a=(0,u.useState)(!0),d=(0,l.Z)(a,2),o=d[0],r=d[1],s=(0,ve.TH)().state,h=f.message.useMessage(),m=(0,l.Z)(h,2),y=m[0],g=m[1];(0,O.Z)((function(){i({})}));var b=(0,ve.s0)(),w=p().cloneDeep(c.Z.getState().attributeMap);return o?(0,v.jsxs)("div",{className:"designTop",children:[g,(0,v.jsx)(xe.Z,{onClick:function(){r(!1)},style:{color:"rgb(192, 190, 230)",cursor:"pointer",position:"absolute",left:"1000px",zIndex:"10000"}}),(0,v.jsx)("span",{style:{color:"rgb(192, 190, 230)",position:"relative",left:"100px",fontSize:"28px",top:"15px",fontStyle:"italic",fontWeight:"bold"},children:"XinBuilder"}),(0,v.jsx)(f.Button,{style:{width:80,height:30},type:"primary",ghost:!0,onClick:function(){H.Z.post("http://".concat(window.location.hostname,":80/pageJson/updatePage"),{pageId:s.pageId,pageJson:w}).then((function(e){y.open({type:"success",content:"\u4fdd\u5b58\u6210\u529f"})})).catch((function(e){y.open({type:"error",content:"\u4fdd\u5b58\u5931\u8d25"})}))},children:"\u4fdd\u5b58"}),(0,v.jsx)(f.Button,{style:{width:80,height:30},type:"primary",ghost:!0,onClick:function(){b("/metaRender",{state:{pageId:s.pageId}})},children:"\u9884\u89c8"}),(0,v.jsx)(f.Button,{style:{width:80,height:30},type:"primary",ghost:!0,onClick:function(){b("/")},children:"\u8fd4\u56de"}),(0,v.jsx)(f.Popover,{content:"\u91cd\u505a",children:(0,v.jsx)(Ce.Z,{onClick:function(){},className:"topIcon"})}),(0,v.jsx)(f.Popover,{content:"\u64a4\u9500",children:(0,v.jsx)(Se.Z,{onClick:function(){if(window.stackIndex>1){var e=window.attributeStack,t=window.stackIndex;c.Z.dispatch({type:"change",attributeMap:e[t-2],lineFlag:!0}),window.stackIndex--}},className:window.stackIndex>1?"topIconActive":"topIcon"})}),(0,v.jsxs)("div",{className:"pageIdTitle",children:["pageID\uff1a",(0,v.jsx)("span",{style:{color:"#6c6a6a"},children:s.pageId})]})]}):(0,v.jsx)(Ze.Z,{onClick:function(){r(!0)},style:{color:"rgb(192, 190, 230)",cursor:"pointer",position:"absolute",left:"1000px",zIndex:"10000"}})}var ke=function(){var e=(0,ve.s0)(),t=(0,u.useState)(),n=(0,l.Z)(t,2),a=n[0],d=n[1],o=(0,u.useState)({}),r=(0,l.Z)(o,2),s=r[0],c=r[1],h=(0,u.useState)(),p=(0,l.Z)(h,2),O=p[0],f=p[1];return(0,u.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user")||"{}");t&&H.Z.post("http://".concat(window.location.hostname,":80/login/getUser"),{username:t.username,password:t.password}).then((function(t){t.data.data||e("/")}))}),[]),(0,v.jsxs)("div",{className:"App",children:[(0,v.jsx)(Ie,{}),(0,v.jsx)(Y,{changeTopCom:function(e){d(e)}}),(0,v.jsx)(we,{comId:O,changeRightPanel:function(e,t){s[t]=e,f(t),c((0,i.Z)({},s))},NowCom:a}),(0,v.jsx)(he,{comId:O,rightPanel:s})]})}}}]);
//# sourceMappingURL=533.df8e02a3.chunk.js.map